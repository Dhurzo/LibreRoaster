# Requirements Archive: v1.5 Serial Protocol Implementation

**Archived:** 2026-02-04
**Status:** âœ… SHIPPED

This is the archived requirements specification for v1.5.

---

# Requirements: LibreRoaster v1.5 Serial Protocol Implementation

**Defined:** 2026-02-04

## v1.5 Requirements

### Initialization Handshake

- [x] **INIT-01**: System responds with `#` acknowledgment to CHAN command
- [x] **INIT-02**: System parses UNITS command (Celsius/Fahrenheit)
- [x] **INIT-03**: System parses FILT command (filter settings)
- [x] **INIT-04**: Handshake completes within expected time
- [x] **INIT-05**: Invalid handshake commands return ERR response

### READ Command

- [x] **READ-01**: READ command returns ET (environment temperature)
- [x] **READ-02**: READ command returns BT (bean temperature)
- [x] **READ-03**: READ command returns Power (heater duty 0-100%)
- [x] **READ-04**: READ command returns Fan (fan duty 0-100%)
- [x] **READ-05**: Unused channels return `-1` instead of `0`
- [x] **READ-06**: Response format: `ET,BT,ET2,BT2,ambient,fan,heater`
- [x] **READ-07**: Response terminates with newline

### Control Commands

- [x] **CTRL-01**: OT1 command sets heater duty (0-100%)
- [x] **CTRL-02**: IO3 command sets fan PWM (0-100%)
- [x] **CTRL-03**: UP command increases heater by 5%
- [x] **CTRL-04**: DOWN command decreases heater by 5%
- [x] **CTRL-05**: Commands outside bounds (0-100) return ERR
- [x] **CTRL-06**: START command initiates roasting state
- [x] **CTRL-07**: STOP command halts roasting state

### Error Handling

- [x] **ERR-01**: Unknown commands return `ERR 1 Unknown command`
- [x] **ERR-02**: Malformed values return `ERR 2 Invalid value`
- [x] **ERR-03**: Out of bounds return `ERR 3 Value out of range`
- [x] **ERR-04**: ERR responses format correctly per Artisan spec
- [x] **ERR-05**: Parser recovers from partial commands

---

## Milestone Summary

**Shipped:** 26 of 26 v1.5 requirements
**Adjusted:** None
**Dropped:** None

---

_For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone)_
