---
phase: "26-flash-instructions"
plan: "01"
type: "execute"
wave: 1
depends_on: []
files_modified:
  - "internalDoc/FLASH_GUIDE.md"
  - "internalDoc/QUICKSTART.md"
autonomous: true
user_setup: []

must_haves:
  truths:
    - "User can identify correct USB port for ESP32-C3"
    - "User can flash firmware using graphical or simple CLI tools"
    - "User can verify successful flash via LED or serial output"
    - "User understands next steps after flashing"
  artifacts:
    - path: "internalDoc/FLASH_GUIDE.md"
      provides: "Complete flash instructions for roasters"
      min_lines: 150
    - path: "internalDoc/QUICKSTART.md"
      provides: "One-page quick start guide"
      min_lines: 50
  key_links:
    - from: "QUICKSTART.md"
      to: "FLASH_GUIDE.md"
      via: "Cross-reference for detailed steps"
      pattern: "See.*FLASH_GUIDE"
    - from: "internalDoc/README.md"
      to: "FLASH_GUIDE.md"
      via: "Link from main documentation"
      pattern: "flashing|flash"
---

<objective>
Create comprehensive ESP32-C3 flash instructions for end users (roasters). Transform existing developer-focused FLASH_GUIDE.md into accessible, step-by-step documentation that non-technical users can follow.

Purpose: Enable roasters to flash LibreRoaster firmware without needing development environment knowledge.
Output: Updated FLASH_GUIDE.md and new QUICKSTART.md in internalDoc/
</objective>

<execution_context>
@/home/juan/.config/opencode/get-shit-done/workflows/execute-plan.md
@/home/juan/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md

# Reference existing documentation
@internalDoc/FLASH_GUIDE.md
@internalDoc/DEVELOPMENT.md
</context>

<tasks>

<task type="auto">
  <name>Analyze existing FLASH_GUIDE.md and identify improvements for roasters</name>
  <files>internalDoc/FLASH_GUIDE.md</files>
  <action>
    Read the entire FLASH_GUIDE.md and identify:
    1. Technical jargon that needs simplification (e.g., "riscv32imc-unknown-none-elf", "espflash", CLI commands)
    2. Missing information for non-technical users (what USB port looks like, how to identify device)
    3. Steps that assume development environment knowledge
    4. Visual elements that would help (screenshots placeholders, diagrams)
    
    Create a brief analysis comment at the top of the file documenting what needs to change.
  </action>
  <verify>Analysis comment exists at top of FLASH_GUIDE.md with findings</verify>
  <done>FLASH_GUIDE.md analyzed for user accessibility gaps</done>
</task>

<task type="auto">
  <name>Create roaster-friendly FLASH_GUIDE.md</name>
  <files>internalDoc/FLASH_GUIDE.md</files>
  <action>
    Rewrite FLASH_GUIDE.md with the following structure:

    1. **Title**: "LibreRoaster Flash Guide" (English title, Spanish content)

    2. **Overview Section** (NEW):
       - What this guide is for (2-3 sentences)
       - What you'll need (hardware + software)
       - Time estimate (5-10 minutes)

    3. **Prerequisites Section** (SIMPLIFIED):
       - Hardware: ESP32-C3 board, USB-C cable, computer
       - Software: Links to download espflash GUI or install commands
       - Keep technical details minimal

    4. **Step-by-Step Section** (NEW - Visual, numbered):
       - Step 1: Connect the board (with photo placeholder)
       - Step 2: Find your USB port (simplified instructions)
       - Step 3: Install flashing tool (GUI option first, CLI second)
       - Step 4: Flash the firmware (simple command or GUI click)
       - Step 5: Verify it worked (LED patterns, serial output)

    5. **Troubleshooting Section** (EXPANDED):
       - "Device not detected" with visual cues
       - "Flash failed" with recovery steps
       - "Nothing happening after flash" with diagnostics

    6. **Next Steps Section** (NEW):
       - Connect to Artisan
       - What to expect

    Keep existing content but reorganize and simplify language. Remove command-line complexity unless necessary.
  </action>
  <verify>FLASH_GUIDE.md is reorganized with new sections and simplified language</verify>
  <done>Roaster-friendly FLASH_GUIDE.md completed with visual structure</done>
</task>

<task type="auto">
  <name>Create QUICKSTART.md one-page guide</name>
  <files>internalDoc/QUICKSTART.md</files>
  <action>
    Create a new QUICKSTART.md file with exactly this structure:

    ```
    # LibreRoaster Quick Start Guide

    ## What You Need
    - [ ] ESP32-C3 board
    - [ ] USB-C cable
    - [ ] Computer (Windows/Mac/Linux)

    ## Step 1: Connect
    Plug the ESP32-C3 into your computer's USB port.

    ## Step 2: Flash
    Run this command:
    ```
    [simple command]
    ```

    ## Step 3: Verify
    You should see [description of success indicator].

    ## Step 4: Connect to Artisan
    - Open Artisan
    - Select port: [how to identify]
    - Baud rate: 115200

    ## Problems?
    See FLASH_GUIDE.md for help.
    ```

    Keep it to one page (50-80 lines max). Use checkboxes, simple language, and clear next steps.
  </action>
  <verify>QUICKSTART.md exists, is under 100 lines, and has clear structure</verify>
  <done>One-page QUICKSTART.md created for fast reference</done>
</task>

</tasks>

<verification>
1. FLASH_GUIDE.md has been reorganized with Overview, Prerequisites, Step-by-Step, Troubleshooting, and Next Steps sections
2. Technical jargon has been simplified or explained
3. QUICKSTART.md exists as a standalone one-page guide
4. Both files are accessible to non-technical users
5. Cross-references exist between QUICKSTART.md and FLASH_GUIDE.md
</verification>

<success_criteria>
- FLASH_GUIDE.md contains all sections: Overview, Prerequisites, Step-by-Step, Troubleshooting, Next Steps
- QUICKSTART.md is created as a one-page reference
- Language is accessible to non-technical users
- Command complexity is minimized (GUI options prioritized)
- Troubleshooting covers common user issues
- Next steps clearly guide users to Artisan connection
</success_criteria>

<output>
After completion, create `.planning/phases/26-flash-instructions/26-01-SUMMARY.md`
</output>
